---
date: 2020-10-08
title: "[Git] 常用指令"
description: GUI 雖然好用，但敲指令爽度 up
permalink: /:year/:month/:day/git/common-command.html
categories:
- Git
tags:
- Git
- command
- tools
---

<blockquote class="blockquote-center">會走向敲指令這條路<br>全歸功於防毒狂卡 GUI</blockquote>

<br>

# GUI

官方有整理出一份 GUI 列表 (<a href="https://git-scm.com/downloads/guis/" target="_blank">點我</a>)，其中包含以下的資訊

1. 支援平台
2. 價錢
3. 授權

<br>

# 常用指令

就跟背書一樣，**硬記**九成很快就忘掉了，不如試著問自己`遇到 xxx 情況時，我該怎麼辦 ?`

```sh
git --version                             查看 git 版本
git                                       查看 git 指令
git config                                查看 git config 指令
git config --get user.name                查看全域的 user.name
git config --get user.email               查看全域的 email
git config --global user.name "xxxx"      設定全域的 user.name
git config --global user.email "xxxx"     設定全域的 email
git remote                                查看連結的遠端倉庫
git remote -v                             查看連結的遠端倉庫 (更多資訊)
git remote add <url-name> <url>           在本機加入一個遠端的節點
                                          ex. git remote add origin git@github.com:kaochenlong/practice-git.git
                                          origin 是一個「代名詞」，指的是後面那串 GitHub 伺服器的位置
git push <url-name> <branch-name>         把本機某個分支的內容，推向遠端倉庫
                                          ps. 如果遠端倉庫沒有此分支，則會建立同名的分支
                                          如果遠端倉庫有此分支，則會更新進度
git push -u origin master                 -u (upstream - 上游)
                                          在 Git 裡，每個分支可以設定一個「上游」（但每個分支最多只能設定一個 upstream），
                                          它會指向並追蹤（track）某個分支。通常 upstream 會是遠端 Server 上的某個分支，
                                          但其實要設定在本地端的其它分支也可以。
                                          當下回執行 git push 指令而不加任何參數的時候，
                                          它就會猜你是要推往 origin 這個遠端節點，並且把 master 這個分支推上去
git push origin <local-branch-name>:<remote-branch-name>
git status                                查看 working tree 狀態 (若目前分支有設定 upstream 的話，也會顯示 upstream 的資訊出來)
git init                                  初始化 (出現 .git 資料夾)
git add .                                 將 "變更" 加進 "暫存變更"
git commit -m "xxxx"                      將 "暫存變更" commit 到本地倉庫
git push heroku master                    將本地倉庫的 commit push 上遠端倉庫 (此處範例為: heroku)
git log                                   查看"目前"分支的 commit 紀錄
git log --oneline                         查看"目前"分支的 commit 紀錄，每個紀錄以一行顯示
git log --graph                           查看"目前"分支的 commit 紀錄，用線圖顯示
git log --all                             查看"所有"分支的 commit 紀錄
git log <branch-name>                     查看"某個"分支的 commit 紀錄
git diff                                  查看工作目錄與尚未進暫存區(unstaged)全部檔案的差異
git diff --cached                         查看工作目錄與尚已進暫存區(staged)全部檔案的差異
git diff <filename>                       查看工作目錄與尚未進暫存區(unstaged)檔案<filename>的差異
git diff <commit-id>                      查看所在的分支上<commit-id>跟HEAD之間的差異
git diff <old commit-id> <new commit-id>  查看兩個commit-id之間的差異
git branch                                顯示分支列表 (前面有 * 的就是現在的分支)
git branch <branch-name>                  建立分支
git branch -d <branch-name>               刪除分支
git branch -u <url-name>/<remote-branch-name>	目前分支設定 upstream
git branch -v                             目前分支，顯示更多資訊
git fetch                                 把目前線上有，但本機沒有的內容，抓了一份下來，同時移動 origin 相關的分支
git merge <branch-name>                   ex. git merge origin/master
git merge <branch-name> --no-ff           --no-ff 參數是「不要使用快轉模式合併」的意思，這樣一來就會額外做出一個 Commit
git pull                                  git pull = git fetch + git merge
git pull -v                               git pull 時，顯示更多資訊
git pull <url-name> <branch-name>         把遠端倉庫的某個分支的內容，拉回本機
git reset <commit-id>                     (絕對) reset 應視作 go to (前往)
git reset master^                         (相對) 每一個 ^ 符號，表示「前一次」的意思
git reset master^^                        (相對) 有兩個 ^ 符號，代表往前兩次
git reset master~1                        (相對) 等價於 git reset master^
git reset master~2                        (相對) 等價於 git reset master^^
git reset master~2 --soft                 Commit 拆出來的檔案，丟回暫存區
git reset master~2 --mixed                Commit 拆出來的檔案，丟回工作目錄
git reset master~2 --hard                 Commit 拆出來的檔案，直接丟掉
git blame <filename>                      查看某個檔案的某一行是誰寫的
git blame -L 5,10 <filename>              查看某個檔案的第幾行到第幾行是誰寫的
git checkout <branch-name>                切換分支
git checkout -- <filename>                使 tracked file 回到未修改前的樣子, git checkout: Switch branches or restore working tree files
git checkout -- .                         使全部 tracked files 回到未修改前的樣子
git clean -n                              查看將被刪除的檔案 (dry run - 空運行), git clean: Remove "untracked" files from the working tree
git clean -i                              以交互的方式來刪除檔案
git clean -f                              以強制的方式來刪除檔案
git stash                                 將目前所有的修改"藏"起來 (Untracked 狀態的檔案預設沒辦法被 Stash ，需要額外使用 -u 參數)
git stash -u                              將目前所有的修改"藏"起來，包含 Untracked 狀態的檔案
git stash list                            查看所有"藏"起來的紀錄
git stash pop <stash@{x}>                 將某個"藏"起來的紀錄撿回來做，套用在目前的分支，套用後該 Stash 就會被刪除
git stash pop                             沒有指定要 pop 哪一個 Stash ，會從編號最小的，也就是 stash@{0} 開始拿 (也就是"最後(最新)"疊上去的那次)
git stash show <stash@{x}>                查看某個"藏"起來的紀錄裡面有什麼
git stash drop <stash@{x}>                丟棄某個"藏"起來的紀錄
```

<br>

# 參考文章

1. https://gitbook.tw/

<br>